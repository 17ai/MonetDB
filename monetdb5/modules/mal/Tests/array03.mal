#modification of an array

#create array v(i int dimension[0:1:4], payload:int)
v:= array.series(0,1,4,1,1);
vv:= array.series(0,3,12,1,1);
io.print(v,vv);

#create array M(x int dimension[0:2:6], y int dimension[0:1:4], int default 333);
mx:= array.series(0,2,6,4,1);
my:= array.series(0,1,4,1,3);
mv:= array.series(0,1,12,1,1);
io.print(mx,my,mv);

#create a cell identifier vector
#do a point select
x:= bat.new(:oid,:oid);
bat.insert(x, 2@0,1@0);
bat.insert(x, 1@0,0@0);
io.print(x);
xv:= bat.new(:oid,:int);
bat.insert(xv,0@0,999);
bat.insert(xv,0@0,998);
io.print(xv);
y:= bat.new(:oid,:oid);
bat.insert(y, 2@0,0@0);
bat.insert(y, 3@0,1@0);
bat.insert(y, 7@0,2@0);
yv:= bat.new(:oid,:int);
bat.insert(yv,0@0,123);
bat.insert(yv,3@0,234);
bat.insert(yv,4@0,345);
io.print(yv);

#fetch the index column
xz:= array.replace(vv,x,xv);
io.print(v,xz);

yz:= array.replace(mv,y,yv);
io.print(x);
yz:= array.replace(yz,x,-1);
io.print(mx,my,yz);

