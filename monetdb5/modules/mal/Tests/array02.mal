#extraction of cell positions from arrays

#create array v(i int dimension[0:1:4], payload:int)
v:= array.series(0,1,4,1,1);
vv:= array.series(0,3,12,1,1);
io.print(v,vv);

#create array M(x int dimension[0:2:6], y int dimension[0:1:4], int default 333);
mx:= array.series(0,2,6,4,1);
my:= array.series(0,1,4,1,3);
mv:= array.series(0,1,12,1,1);
io.print(mx,my,mv);

#create a cell identifier vector
#do a point select
x:= bat.new(:oid,:oid);
bat.insert(x, 1@0,0@0);
io.print(x);
y:= bat.new(:oid,:oid);
bat.insert(y, 2@0,0@0);
bat.insert(y, 3@0,1@0);
bat.insert(y, 7@0,2@0);
io.print(y);

#fetch the index column
z1:= array.map(x,v);
io.print(z1);

(zx:bat[:oid,:int],zy:bat[:oid,:int]):= array.map(y,mx,my);
io.print(zx);
io.print(zy);
io.print(zx,zy);
