# Monet Database Server V5.0
# Copyright (c) 1993-2001, CWI. All rights reserved.
# compiled for i686-pc-linux-gnu/32bit.
# gdk_dbfarm:/ufs/mk/monet_5-0/Linux/../dbfarm
# gdk_dbname:demo
# gdk_dbdir:/ufs/mk/monet_5-0/Linux/../dbfarm/demo
# gdk_distr:/ufs/mk/monet_5-0/Linux
# monetrc:/ufs/mk/.monet.conf
## syntax analysis test for guarded blocks, redo's and leave's
#barrier	L:= 1;
#	#do it
#	leave Z;	# not known in block
#	redo L;
#end 	L;
#	redo L;		# outside block
#	leave X;	# outside block
#	redo A;		# outside block
#barrier X:=1;
#	leave L;	# outside block
#	leave X;
#	redo L;		# outside block
#end	X;
#barrier A:=1;
#	barrier B:= 1;
#		redo A;
#	end	B;
#	barrier C:=1;
#		leave A;
#	end 	C;
#
#	end	B;	# out of order
#	end	F;	# unknown
#
#	barrier D:=1;
#		leave D;
#		redo  D;  # dead code
#	end	D;
#	barrier D:=2;		# duplicate block
#	end	D;
#end	A;
#barrier  unfinished:= 1;
#	f:=1;
#
ERROR:2:label 'Z' not in guarded block
ERROR:5:label 'L' not in guarded block
ERROR:6:label 'X' not in guarded block
ERROR:7:label 'A' not in guarded block
ERROR:9:label 'L' not in guarded block
ERROR:11:label 'L' not in guarded block
ERROR:20:end-label 'B' doesnot match 'A'
ERROR:21: end-label 'F' without begin-label
ERROR: 29: begin-label 'unfinished' without end-label
function Client.main():int;	#0:(main:int->0)
barrier	L := 1;	#1:(L:int->13)($14:int->14)
	leave Z;	#2:(Z:any->15)
	redo L ;	#3:(L:int->13)
end	L;	#4:(L:int->13)
	redo L ;	#5:(L:int->13)
	leave X;	#6:(X:int->16)
	redo A ;	#7:(A:int->17)
barrier	X := 1;	#8:(X:int->16)($14:int->14)
	leave L;	#9:(L:int->13)
	leave X;	#10:(X:int->16)
	redo L ;	#11:(L:int->13)
end	X;	#12:(X:int->16)
barrier	A := 1;	#13:(A:int->17)($14:int->14)
barrier	B := 1;	#14:(B:int->18)($14:int->14)
	redo A ;	#15:(A:int->17)
end	B;	#16:(B:int->18)
barrier	C := 1;	#17:(C:int->19)($14:int->14)
	leave A;	#18:(A:int->17)
end	C;	#19:(C:int->19)
end	B;	#20:(B:int->18)
end	F;	#21:(F:str->20)
barrier	D := 1;	#22:(D:int->21)($14:int->14)
	leave D;	#23:(D:int->21)
	redo D ;	#24:(D:int->21)
end	D;	#25:(D:int->21)
barrier	D := 2;	#26:(D:int->21)($22:int->22)
end	D;	#27:(D:int->21)
end	A;	#28:(A:int->17)
barrier	unfinished := 1;	#29:(unfinished:int->23)($14:int->14)
	f := 1;	#30:(f:int->24)($14:int->14)
end function;	#31:
SyntaxError::'Client.main' contains errors
