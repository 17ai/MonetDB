# The series tst2?? is a patched version of suite_00
# The first and foremost BAT operations

b:= new(int,int);
err := insert(b,1,15);
err := insert(b,2,4);
n0  := int(nil);
err := insert(b,3,n0);
err := insert(b,4,16);
err := insert(b,5,25);
err := insert(b,6,36);
err := insert(b,7,49);
err := insert(b,8,64);
err := insert(b,9,n0);
err := insert(b,n0,n0);
err := insert(b,n0,81);
err := print(b);
i := -1:int;
h:= 0:int;
t:= 0:int;
barrier v:= batloop(i,b,h,t);
	printf("[%d,",i);
	h:= getHead(i,b);
	printf("%d,",h);
	t:= getTail(i,b);
	printf("%d]\n",t);
redo v;
end v;


# String stuff
c:= new(int,str);
err:= insert(c,1,"hello");
err:= insert(c,2,"brave");
err:= insert(c,3,"world");
err:= insert(c,4,"");
x:= str(nil);
err:= insert(c,5,x);
err:= insert(c,6,"!");
print(c);
i := -1:int;
ts:= "";
barrier v:= batloop(i,c,h,ts);
	printf("[%d,",i);
	printf("%d,",h);
	printf("%s]\n",ts);
	redo v;
end v;

