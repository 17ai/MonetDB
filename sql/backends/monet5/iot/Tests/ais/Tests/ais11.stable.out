stdout of test 'ais11` in directory 'sql/backends/monet5/iot/Tests/ais` itself:


# 11:07:40 >  
# 11:07:40 >  "mserver5" "--debug=10" "--set" "gdk_nr_threads=0" "--set" "mapi_open=true" "--set" "mapi_port=35624" "--set" "mapi_usock=/var/tmp/mtest-21087/.s.monetdb.35624" "--set" "monet_prompt=" "--forcemito" "--dbpath=/export/scratch1/mk/default//Linux/var/MonetDB/mTests_sql_backends_monet5_iot_Tests_ais"
# 11:07:40 >  

# MonetDB 5 server v11.24.0
# This is an unreleased version
# Serving database 'mTests_sql_backends_monet5_iot_Tests_ais', using 8 threads
# Compiled for x86_64-unknown-linux-gnu/64bit with 64bit OIDs and 128bit integers dynamically linked
# Found 15.589 GiB available main-memory.
# Copyright (c) 1993-July 2008 CWI.
# Copyright (c) August 2008-2016 MonetDB B.V., all rights reserved
# Visit http://www.monetdb.org/ for further information
# Listening for connection requests on mapi:monetdb://vienna.da.cwi.nl:35624/
# Listening for UNIX domain connection requests on mapi:monetdb:///var/tmp/mtest-21087/.s.monetdb.35624
# MonetDB/GIS module loaded
# MonetDB/SQL module loaded
# MonetDB/iot loaded

Ready.

# 11:07:41 >  
# 11:07:41 >  "mclient" "-lsql" "-ftest" "-Eutf-8" "-i" "-e" "--host=/var/tmp/mtest-21087" "--port=35624"
# 11:07:41 >  

#SET SCHEMA ais;
#SET optimizer = 'iot_pipe';
#CREATE STREAM TABLE vessels11 (implicit_timestamp timestamp, mmsi int, lat real, lon real, nav_status tinyint, sog real, rotais smallint);
#INSERT INTO iot.webserverstreams SELECT tabl.id, 2 , 8, 's' FROM sys.tables tabl INNER JOIN sys.schemas sch ON tabl.schema_id = sch.id WHERE tabl.name = 'vessels11' AND sch.name = 'ais';
[ 1	]
#CREATE TABLE ais11r (calc_time timestamp, mmsi int, speed_sum float, speed_count int);
#CREATE VIEW ais11v AS SELECT calc_time, mmsi, speed_sum / speed_count AS average_speed FROM ais11r;
#CREATE PROCEDURE ais11q()
#BEGIN
#	UPDATE ais11r
#		SET calc_time = current_timestamp,
#			speed_sum = speed_sum + (SELECT sum(sog) FROM vessels11 WHERE vessels11.mmsi = ais11r.mmsi),
#			speed_count = speed_count + (SELECT count(*) FROM vessels11 WHERE vessels11.mmsi = ais11r.mmsi)
#		FROM ais11r INNER JOIN vessels11 ON results.mmsi = vessels1.mmsi;
#	DELETE FROM ais11r
#		WHERE mmsi NOT IN (SELECT mmsi FROM vessels11);
#	INSERT INTO ais11r
#		SELECT current_timestamp, mmsi, sum(sog), count(*) FROM vessels11 GROUP BY mmsi HAVING mmsi NOT IN (SELECT mmsi FROM ais11r);
#DELETE FROM iot.webserverstreams;
[ 1	]
#DROP PROCEDURE ais11q;
#DROP TABLE vessels11;
#DROP VIEW ais11v;
#DROP TABLE ais11r;
#SET SCHEMA sys;
#DROP SCHEMA ais;

# 11:07:41 >  
# 11:07:41 >  "Done."
# 11:07:41 >  

